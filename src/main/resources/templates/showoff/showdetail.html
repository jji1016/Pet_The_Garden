<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head ('반려동물 장기자랑 상세')}">
    <link rel="stylesheet" th:href="@{/css/showoff/showdetail.css}">
</head>
<body>
<!-- 공통 헤더 -->
<div th:replace="~{fragments/header :: header}"></div>

<!-- 본문 -->
<div class="showdetail-container">
    <div class="showdetail-card">
        <!-- 제목, 작성자, 날짜 -->
        <header class="showdetail-header">
            <h1 class="showdetail-title" th:text="${showOff.subject}">장기자랑 제목</h1>
            <p class="showdetail-meta">
                <span th:text="${showOff.member.userName}">작성자</span> ·
                <span th:text="${#temporals.format(showOff.regDate,'yyyy-MM-dd HH:mm')}">작성일</span> ·
                ❤️ <span th:text="${showOff.showOffLike}">0</span>
            </p>
        </header>

        <!-- 본문 -->
        <section class="showdetail-content">
            <div class="content-body" th:utext="${#strings.replace(showOff.content,'[YouTube]','')}"></div>

            <!-- 업로드 이미지 -->
            <div th:if="${showOff.image != null}">
                <img th:src="${showOff.image}" alt="업로드 이미지" class="upload-img">
            </div>

            <!-- 유튜브 썸네일 -->
            <div th:if="${youtubeId != null}" class="youtube-box">
                <a th:href="${youtubeUrl}" target="_blank" rel="noopener">
                    <img th:src="'https://img.youtube.com/vi/' + ${youtubeId} + '/0.jpg'"
                         alt="유튜브 썸네일">
                </a>
            </div>
        </section>

        <!-- 버튼 영역 -->
        <div class="showdetail-actions">
            <button class="btn-action btn-like"
                    th:onclick="'increaseLike(' + ${showOff.Id} + ')'">좋아요</button>

            <button class="btn-action btn-edit"
                    th:if="${isAuthor}" th:href="@{'/showoff/showreg?edit=' + ${showOff.Id}}">
                수정하기
            </button>
        </div>
    </div>
</div>

<!-- 공통 푸터 -->
<div th:replace="~{fragments/footer :: footer}"></div>

<script th:src="@{/js/showoff/showdetail.js}"></script>
</body>
</html>
