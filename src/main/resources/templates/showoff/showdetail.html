<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('장기자랑 상세페이지')}"></head>
<body>
<div th:replace="~{fragments/header}"></div>

<main class="detail-main-content">
    <div class="detail-container">

        <!-- 소제목 -->
        <div class="detail-page-title">
            장기자랑 상세페이지
        </div>

        <!-- 상세 카드 -->
        <div class="detail-card">
            <div class="detail-image-box">
                <!-- src와 th:src를 함께! -->
                <img src="/images/웰시코기.png"
                     th:src="@{'/images/' + ${pet.profileImg}}"
                     alt="피치"
                     th:alt="${pet.petName}"
                     class="detail-img">
            </div>
            <div class="detail-info-box">
                <!-- h2: th:text와 예시값 -->
                <h2 class="detail-title" th:text="${pet.petName}">시바사키</h2>
                <div class="detail-meta">
                    <span th:text="${pet.species}">시바견</span> |
                    <span th:text="${pet.member.userName}">피치집사냥냥</span>
                </div>
                <div class="detail-content" th:text="${pet.content}">
                    귀여운 시바사키의 장기자랑입니다!
                </div>
                <div class="detail-stats">
                    <span class="stat-item">
                        <span class="material-symbols-outlined">visibility</span>
                        <span th:text="${pet.showOffList.size()}">100</span>
                    </span>
                    <span class="stat-item">
                        <span class="material-symbols-outlined">favorite</span>
                        <span th:text="${pet.followList.size()}">30</span>
                    </span>
                </div>
                <div class="detail-btns">
                    <!-- 작성자: 수정하기 버튼 -->
                    <button th:if="${isAuthor}" class="rectangle-modify"
                            th:onclick="|location.href='@{/showoff/showedit/{petId}(petId=${pet.id})}'|">
                        수정하기
                    </button>
                    <!-- 비작성자: 추천(하트) 버튼 -->
                    <button th:unless="${isAuthor}" class="rectangle-like" type="button" onclick="likePet()">
                        <span class="material-symbols-outlined">favorite</span>
                        추천하기
                    </button>
                </div>
            </div>
        </div>

        <!-- 댓글 입력창만 표시 -->
        <section class="comment-section">
            <h3 class="comment-title">댓글</h3>
            <form class="comment-form" onsubmit="return submitComment(event);">
                <textarea name="content" placeholder="댓글을 입력하세요" required></textarea>
                <button type="submit">댓글 등록</button>
            </form>
        </section>
    </div>
</main>

<div th:replace="~{fragments/footer}"></div>
<link rel="stylesheet" th:href="@{/css/showdetail.css}">
<script th:src="@{/js/showdetail.js}"></script>
</body>
</html>
