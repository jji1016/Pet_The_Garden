<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('장기자랑 상세페이지')}"></head>
<body>
<div th:replace="~{fragments/header}"></div>

<main class="detail-main-content">
    <div class="detail-container">

        <!-- 소제목 -->
        <div class="detail-page-title">
            장기자랑 상세페이지
        </div>

        <!-- 상세 카드 -->
        <div class="detail-card">
            <div class="detail-image-box">
                <img src="/images/기본이미지.png"
                     th:src="@{'/images/' + ${showOff.pet.profileImg}}"
                     alt="펫이미지"
                     th:alt="${showOff.pet.petName}"
                     class="detail-img">
            </div>
            <div class="detail-info-box">
                <h2 class="detail-title" th:text="${showOff.subject}">제목</h2>
                <div class="detail-meta">
                    <span th:text="${showOff.pet.species}">견종/묘종</span> |
                    <span th:text="${showOff.member.userName}">작성자</span>
                </div>
                <!-- CKEditor로 저장된 내용은 th:utext로 출력 -->
                <div class="detail-content" th:utext="${showOff.content}">
                    장기자랑 게시글 내용입니다!
                </div>
                <div class="detail-stats">
                    <span class="stat-item">
                        <span class="material-symbols-outlined">visibility</span>
                        <span th:text="${showOff.viewCount}">100</span>
                    </span>
                    <span class="stat-item">
                        <span class="material-symbols-outlined">favorite</span>
                        <span th:text="${showOff.pet.petLike}">30</span>
                    </span>
                </div>
                <div class="detail-btns">
                    <!-- 작성자: 수정하기 버튼 -->
                    <button th:if="${isAuthor}" class="rectangle-modify"
                            th:onclick="|location.href='@{/showoff/showedit/{showOffId}(showOffId=${showOff.id})}'|">
                        수정하기
                    </button>
                    <!-- 비작성자: 추천(하트) 버튼 -->
                    <button th:unless="${isAuthor}" class="rectangle-like" type="button" onclick="likeShowOff()">
                        <span class="material-symbols-outlined">favorite</span>
                        추천하기
                    </button>
                </div>
            </div>
        </div>

        <!-- 댓글 입력창만 표시 -->
        <section class="comment-section">
            <h3 class="comment-title">댓글</h3>
            <form class="comment-form" onsubmit="return submitComment(event);">
                <textarea name="content" placeholder="댓글을 입력하세요" required></textarea>
                <button type="submit">댓글 등록</button>
            </form>
        </section>
    </div>
</main>

<div th:replace="~{fragments/footer}"></div>
<link rel="stylesheet" th:href="@{/css/showdetail.css}">
<script th:src="@{/js/showdetail.js}"></script>
</body>
</html>
